name: github.com/opspec-pkgs/handlebars-template.render-dir
description: renders a directory of [handlebars](http://handlebarsjs.com) templates
inputs:
  data:
    object:
      description: data used to hydrate the templates
      default: { greeting: hello, user: chris }
  partials:
    dir:
      description: directory of [handlebars partials](http://handlebarsjs.com/partials.html) to register
      default: /example
  templates:
    dir:
      description: directory of [handlebars](http://handlebarsjs.com) templates
      default: /example
outputs:
  result:
    dir:
      description: result of replacing variables in templates
version: 1.0.0
run:
  serial:
  - container:
      image: { ref: 'opspecpkgs/handlebars-template.render-dir:1.0.0' }
      cmd: [node, /cmd.js]
      dirs:
        /partials: $(partials)
        /templates: $(templates)
        /result: $(result)
      files:
        /data.json: $(data)
        /cmd.js:
  - container:
      image: { ref: alpine }
      dirs:
        /result: $(result)
      cmd: [sh, -ce, cat /result/subdir/index.hbs]